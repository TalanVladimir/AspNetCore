@model IEnumerable<AspNetCore.Models.Member>

@{
    ViewData["Title"] = "Chart";
}

<h1>Chart</h1>

<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.highcharts.com/modules/exporting.js"></script>
<script src="https://code.highcharts.com/modules/export-data.js"></script>
<script src="https://code.highcharts.com/modules/accessibility.js"></script>

<p>
    <a asp-action="Chart" asp-route-groupBy="municipality_name">By municipality (default)</a> |
    <a asp-action="Chart" asp-route-groupBy="confirmation_date">By confirmation date</a> |
    <a asp-action="Chart" asp-route-groupBy="age_bracket">By age bracket</a> |
    <a asp-action="Chart" asp-route-groupBy="gender">By gender</a>
</p>

<p>
    @ViewData["getError"]
</p>

<figure class="highcharts-figure">
    <div id="container"></div>
</figure>

<script>
    Highcharts.chart('container', {
        chart: {
            type: 'line'
        },
        title: {
            text: @Html.Raw(ViewData["getTitle"])
        },
        subtitle: {
            text: 'Source: MSSQL Database'
        },
        xAxis: {
            categories: @Html.Raw(ViewData["getX"])
        },
        yAxis: {
            title: {
                text: 'Number'
            }
        },
        plotOptions: {
            line: {
                dataLabels: {
                    enabled: true
                },
                enableMouseTracking: false
            }
        },
        series: [{
            name: @Html.Raw(ViewData["getTitleX"]),
            data: @ViewData["getY"]
        }]
    });
</script>